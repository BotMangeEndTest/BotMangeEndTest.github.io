(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[228],{21595:function(Ne,De,t){"use strict";t.d(De,{F:function(){return ye}});var be=t(15009),c=t.n(be),Ie=t(99289),W=t.n(Ie),Le=t(5574),u=t.n(Le),Pe=t(92276),Te=t(6742),x=t(65763),ie=t(94272),S=t(2453),M=t(96074),te=t(96068),s=t(67294),Y=t(75359),f={remark:"remark___CVbP6",line2:"line2___S0KK2",label:"label___pGraW",label2:"label2___Ggjak",row:"row___H12AQ",title:"title___Axy1u"},$=t(97857),n=t.n($),R=t(93463),_=t(48096),e=t(85893),k=function(O){var m,L=O.guid,N=(0,s.useState)("1"),i=u()(N,2),w=i[0],J=i[1],X=(0,s.useState)(!1),D=u()(X,2),se=D[0],U=D[1],q=(0,s.useState)([]),Z=u()(q,2),F=Z[0],K=Z[1],ee=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),E=u()(ee,2),y=E[0],p=E[1],l=(0,ie.useIntl)(),ae=[{key:"1",label:l.formatMessage({id:"tier1"})},{key:"2",label:l.formatMessage({id:"tier2"})},{key:"3",label:l.formatMessage({id:"tier3"})},{key:"4",label:l.formatMessage({id:"tier4"})},{key:"5",label:l.formatMessage({id:"tier5"})}],b=[{title:l.formatMessage({id:"date"}),dataIndex:"time"},{title:l.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:l.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:l.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(r){return"$"+(0,x.BW)(r,3)}},{title:l.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],H=function(r,o,v){var a;p({pagination:r}),r.pageSize!==((a=y.pagination)===null||a===void 0?void 0:a.pageSize)&&K([])},B=function(){var g=W()(c()().mark(function r(){var o,v,a,I;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return U(!0),a=Number(w),d.next=4,(0,R.getTierDailyStatisticaPageList)(L,a,(o=(v=y.pagination)===null||v===void 0?void 0:v.current)!==null&&o!==void 0?o:1);case 4:I=d.sent,I.data&&(K(I.data.list),p(n()(n()({},y),{},{pagination:n()(n()({},y.pagination),{},{total:I.data.total})})),U(!1));case 6:case"end":return d.stop()}},r)}));return function(){return g.apply(this,arguments)}}();return(0,s.useEffect)(function(){B()},[(m=y.pagination)===null||m===void 0?void 0:m.current]),(0,s.useEffect)(function(){B()},[w]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:l.formatMessage({id:"pages.dailyStatistics"})}),(0,e.jsx)(_.Z,{defaultActiveKey:w,items:ae,onChange:function(r){return J(r)}}),(0,e.jsx)(te.Z,{columns:b,rowKey:function(r){return r.time},dataSource:F,pagination:y.pagination,loading:se,onChange:H})]})},ne=k,xe=t(64599),ge=t.n(xe),fe=t(45433),$e=t(74656),Re=t(26915),le=t(83622),me=t(27484),Q=t.n(me),re=t(84105),we=fe.default.RangePicker,oe=function(O){var m,L=O.guid,N=(0,s.useState)(!1),i=u()(N,2),w=i[0],J=i[1],X=(0,s.useState)([]),D=u()(X,2),se=D[0],U=D[1],q=(0,s.useState)("guid"),Z=u()(q,2),F=Z[0],K=Z[1],ee=(0,s.useState)(""),E=u()(ee,2),y=E[0],p=E[1],l=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),ae=u()(l,2),b=ae[0],H=ae[1],B=Q()().startOf("day"),g=B.add(-7,"day"),r=[g,B],o=s.useState(g.format("YYYY-MM-DD")),v=u()(o,2),a=v[0],I=v[1],Ce=s.useState(B.format("YYYY-MM-DD")),d=u()(Ce,2),je=d[0],Ue=d[1],Ze=function(h,C){I(C[0]),Ue(C[1])},Me=(0,ie.useIntl)(),Ae=[{title:"Register Time",dataIndex:"createTime",render:function(h,C){return Q()(C.createTime).format("YYYY-MM-DD")}},{title:"Guid",dataIndex:"guid"},{title:"Email",dataIndex:"email"},{title:"TgUsername",dataIndex:"tgUsername"},{title:"RefCode",dataIndex:"refCode"},{title:Me.formatMessage({id:"pages.thirdParty.volumes"}),dataIndex:"totalVolume",key:"totalVolume",render:function(h,C){return(0,x.q0)((0,x.BW)(C.totalVolume,3))}}],Ye=function(h,C,P){var j;H({pagination:h}),h.pageSize!==((j=b.pagination)===null||j===void 0?void 0:j.pageSize)&&U([])},Ve=function(){var V=W()(c()().mark(function h(){var C,P,j,z,pe,A,T;return c()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return J(!0),pe=(C=(P=b.pagination)===null||P===void 0?void 0:P.current)!==null&&C!==void 0?C:1,A=(j=(z=b.pagination)===null||z===void 0?void 0:z.pageSize)!==null&&j!==void 0?j:10,G.next=5,Y.Z.userData.getFirstTirerList(L,pe,A,F,y,a,je);case 5:T=G.sent,T.data&&(U(T.data.list),H(n()(n()({},b),{},{pagination:n()(n()({},b.pagination),{},{total:T.data.total})})),J(!1));case 7:case"end":return G.stop()}},h)}));return function(){return V.apply(this,arguments)}}();(0,s.useEffect)(function(){Ve()},[(m=b.pagination)===null||m===void 0?void 0:m.current,a,je]);var ke=function(){var V=W()(c()().mark(function h(){return c()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:H(n()(n()({},b),{},{pagination:n()(n()({},b.pagination),{},{current:1})})),Ve();case 2:case"end":return P.stop()}},h)}));return function(){return V.apply(this,arguments)}}(),Oe=[{value:"guid",label:"Guid"},{value:"email",label:"Email"},{value:"tgUsername",label:"TgUsername"},{value:"refCode",label:"RefCode"}];function Fe(){return Ee.apply(this,arguments)}function Ee(){return Ee=W()(c()().mark(function V(){var h,C,P,j,z,pe,A,T,Be,G,We;return c()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Y.Z.userData.getFirstTirerList(L,1,99999,F,y,a,je);case 2:h=he.sent,C=h==null?void 0:h.data.list,console.log(C),P=[],j=[],j.push("Register Time"),j.push("Guid"),j.push("Email"),j.push("TgUsername"),j.push("RefCode"),j.push("Volume($)"),P.push(j),z=ge()(C);try{for(z.s();!(pe=z.n()).done;)A=pe.value,T=[],T.push(Q()(A.createTime).format("YYYY-MM-DD")),T.push(A.guid),T.push(A.email),T.push(A.tgUsername),T.push(A.refCode),T.push(A.totalVolume),P.push(T)}catch(Ke){z.e(Ke)}finally{z.f()}Be=re.P6.aoa_to_sheet(P),G=re.P6.book_new(),re.P6.book_append_sheet(G,Be,"Sheet1"),We="".concat(L,"_first_tirer_list_").concat(a,"_").concat(je,".xlsx"),re.NC(G,We);case 21:case"end":return he.stop()}},V)})),Ee.apply(this,arguments)}return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("div",{children:Me.formatMessage({id:"pages.vipList.listOfTirer1"})}),(0,e.jsx)("div",{children:(0,e.jsx)($e.Z,{options:Oe,value:F,onChange:K})}),(0,e.jsx)("div",{children:(0,e.jsx)(Re.Z,{style:{width:120},value:y,onChange:function(h){return p(h.target.value)}})}),(0,e.jsx)("div",{style:{marginLeft:10},children:"Trading Time"}),(0,e.jsx)("div",{children:(0,e.jsx)(we,{style:{width:260},onChange:Ze,defaultValue:r})}),(0,e.jsx)("div",{children:(0,e.jsx)(le.ZP,{onClick:ke,children:Me.formatMessage({id:"search"})})}),(0,e.jsx)("div",{children:(0,e.jsx)(le.ZP,{type:"link",onClick:Fe,children:Me.formatMessage({id:"export"})})})]}),(0,e.jsx)(te.Z,{columns:Ae,rowKey:function(h){return h.guid},dataSource:se,pagination:b.pagination,loading:w,onChange:Ye})]})},Se=oe,de=function(O){var m,L=O.guid,N=(0,s.useState)("1"),i=u()(N,2),w=i[0],J=i[1],X=(0,s.useState)(!1),D=u()(X,2),se=D[0],U=D[1],q=(0,s.useState)([]),Z=u()(q,2),F=Z[0],K=Z[1],ee=(0,s.useState)({pagination:{showSizeChanger:!1,current:1,pageSize:5}}),E=u()(ee,2),y=E[0],p=E[1],l=(0,ie.useIntl)(),ae=[{key:"1",label:l.formatMessage({id:"tier1"})},{key:"2",label:l.formatMessage({id:"tier2"})},{key:"3",label:l.formatMessage({id:"tier3"})},{key:"4",label:l.formatMessage({id:"tier4"})},{key:"5",label:l.formatMessage({id:"tier5"})}],b=[{title:l.formatMessage({id:"date"}),dataIndex:"time"},{title:l.formatMessage({id:"pages.newUserCount"}),dataIndex:"newUser"},{title:l.formatMessage({id:"pages.tradingUserCount"}),dataIndex:"traders"},{title:l.formatMessage({id:"pages.tradingVol"}),dataIndex:"txAmount",render:function(r){return"$"+(0,x.BW)(r,3)}},{title:l.formatMessage({id:"pages.txs"}),dataIndex:"txCount"}],H=function(r,o,v){var a;p({pagination:r}),r.pageSize!==((a=y.pagination)===null||a===void 0?void 0:a.pageSize)&&K([])},B=function(){var g=W()(c()().mark(function r(){var o,v,a,I;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return U(!0),a=Number(w),d.next=4,(0,R.getTierMonthlyStatisticaPageList)(L,a,(o=(v=y.pagination)===null||v===void 0?void 0:v.current)!==null&&o!==void 0?o:1);case 4:I=d.sent,I.data&&(K(I.data.list),p(n()(n()({},y),{},{pagination:n()(n()({},y.pagination),{},{total:I.data.total})})),U(!1));case 6:case"end":return d.stop()}},r)}));return function(){return g.apply(this,arguments)}}();return(0,s.useEffect)(function(){B()},[(m=y.pagination)===null||m===void 0?void 0:m.current]),(0,s.useEffect)(function(){B()},[w]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{children:l.formatMessage({id:"pages.monthlyStatistics"})}),(0,e.jsx)(_.Z,{defaultActiveKey:w,items:ae,onChange:function(r){return J(r)}}),(0,e.jsx)(te.Z,{columns:b,rowKey:function(r){return r.time},dataSource:F,pagination:y.pagination,loading:se,onChange:H})]})},ue=de,ve=function(O){var m=O.guid,L=(0,s.useState)(void 0),N=u()(L,2),i=N[0],w=N[1],J=(0,s.useState)(),X=u()(J,2),D=X[0],se=X[1],U=(0,s.useState)([]),q=u()(U,2),Z=q[0],F=q[1],K=S.ZP.useMessage(),ee=u()(K,2),E=ee[0],y=ee[1],p=(0,ie.useIntl)(),l=[{title:"",dataIndex:"type",key:"type"},{title:p.formatMessage({id:"pages.vipList.total"}),dataIndex:"total",key:"total"},{title:"1",dataIndex:"level1",key:"level1"},{title:"2",dataIndex:"level2",key:"level2"},{title:"3",dataIndex:"level3",key:"level3"},{title:"4",dataIndex:"level4",key:"level4"},{title:"5",dataIndex:"level5",key:"level5"}],ae=[{title:"Guid",dataIndex:"guid"},{title:"Tg Username",dataIndex:"tgUsername"},{title:"Email",dataIndex:"email"},{title:p.formatMessage({id:"pages.vipList.refCode"}),dataIndex:"refCode"},{title:p.formatMessage({id:"pages.vipList.vipLevel"}),dataIndex:"vip",valueEnum:{vip1:{text:"VIP1",color:"#000000"},vip2:{text:"VIP2",color:"#CD7F32"},vip3:{text:"VIP3",color:"#FFD700"},svip:{text:"SVIP",color:"#87CEFA"}}},{},{title:p.formatMessage({id:"pages.vipList.remark"}),dataIndex:"remark",span:2}],b=[{title:"ID",dataIndex:"id",hideInSearch:!0,hidden:!0},{title:p.formatMessage({id:"date"}),dataIndex:"date",hideInSearch:!0},{title:"Txns",dataIndex:"txns",hideInSearch:!0},{title:"Vol",dataIndex:"vol",hideInSearch:!0,renderText:function(r,o,v,a){return"$"+(0,x.BW)(r,3)}}],H=function(){var g=W()(c()().mark(function r(){var o;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.Z.rebate.getRebateDetail(m);case 2:o=a.sent,o.data&&w(o.data);case 4:case"end":return a.stop()}},r)}));return function(){return g.apply(this,arguments)}}(),B=function(){if(i){var r=[],o=[];return i.platformList.forEach(function(v){o.push(v.platform);var a="";v.platform=="tg"?a="Channel TG Rebate Ratio:":v.platform=="web"?a="Channel Web Rebate Ratio:":v.platform=="third"&&(a="3rd Party Channel Rebate Ratio:"),r.push((0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:a}),(0,e.jsxs)("span",{children:[" ",v.commissionRate/100,"%"]})]}))}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:"Channel Type:"}),(0,e.jsxs)("span",{children:[" ",o.join("/")]})]}),r,(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:"Bot Referral Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.refCommission,3)]})]}),(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:"Aveswap(new) Referral Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.aveswapCommission,3)]})]}),(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:"Bot Channel Commission:"}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.channelCommission,3)]})]}),(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:p.formatMessage({id:"pages.vipList.totalCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.totalCommission,3)]})]}),(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:p.formatMessage({id:"pages.vipList.unclaimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.unclaimedCommission,3)]})]}),(0,e.jsxs)("div",{className:f.row,children:[(0,e.jsx)("span",{className:f.label2,children:p.formatMessage({id:"pages.vipList.claimedCommission"})}),(0,e.jsxs)("span",{children:[" ","$"+(0,x.BW)(i.claimedCommission,3)]})]})]})}else return(0,e.jsx)(e.Fragment,{})};return(0,s.useEffect)(function(){var g=function(){var r=W()(c()().mark(function o(){var v,a,I;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return E.loading("load..."),d.prev=1,d.next=4,(0,Te.getVipDetail)(m);case 4:v=d.sent,se(v),a=v,I=[{type:p.formatMessage({id:"pages.vipList.invitee"}),total:a.totalInviteeCount+"",level1:a.inviteeCountList[0]+"",level2:a.inviteeCountList[1]+"",level3:a.inviteeCountList[2]+"",level4:a.inviteeCountList[3]+"",level5:a.inviteeCountList[4]+""},{type:p.formatMessage({id:"pages.vipList.volume24H"}),total:"$"+(0,x.BW)(a.totalInviteeVolume24H,6),level1:"$"+(0,x.BW)(a.inviteeVolume24HList[0],6),level2:"$"+(0,x.BW)(a.inviteeVolume24HList[1],6),level3:"$"+(0,x.BW)(a.inviteeVolume24HList[2],6),level4:"$"+(0,x.BW)(a.inviteeVolume24HList[3],6),level5:"$"+(0,x.BW)(a.inviteeVolume24HList[4],6)}],F(I),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(1),S.ZP.error(p.formatMessage({id:"pages.vipList.getVipDetail.error"}));case 14:E.destroy();case 15:case"end":return d.stop()}},o,null,[[1,11]])}));return function(){return r.apply(this,arguments)}}();g(),H()},[]),(0,e.jsxs)("div",{children:[D&&(0,e.jsx)(Pe.ZP,{column:2,title:p.formatMessage({id:"pages.vipList.detail.view"}),request:W()(c()().mark(function g(){return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:D||{}});case 1:case"end":return o.stop()}},g)})),params:{guid:D==null?void 0:D.guid},columns:ae}),i&&B(),(0,e.jsx)(M.Z,{}),(0,e.jsx)(te.Z,{columns:l,dataSource:Z,pagination:!1}),(0,e.jsx)(M.Z,{}),(0,e.jsx)(ne,{guid:m}),(0,e.jsx)(ue,{guid:m}),(0,e.jsx)(M.Z,{}),(0,e.jsx)(Se,{guid:m})]})},ye=ve},65763:function(Ne,De,t){"use strict";t.d(De,{BW:function(){return Pe},Cd:function(){return ie},q0:function(){return x},rD:function(){return Te}});var be=t(64599),c=t.n(be),Ie=t(27484),W=t.n(Ie),Le=t(90482),u=t(84105);function Pe(S,M){if(!S)return"";var te=new Le.Z(S),s=S.split(".");if(s.length!==2)return S;for(var Y=s[0],f=s[1],$=0,n="",R=0;R<f.length;R++){var _=f[R];if(n.length>=M)break;_=="0"&&n.length==0?$=$+1:n=n+_}return $>3?Y+".0{"+$+"}"+n:Y+"."+"0".repeat($)+n}function Te(S,M,te,s,Y,f){var $=new Set,n=new Set,R=c()(s),_;try{for(R.s();!(_=R.n()).done;){var e=_.value;$.add(e[S]),n.add(e[M])}}catch(i){R.e(i)}finally{R.f()}console.log("mainKeyList",$),console.log("timeKeyList",n);var k=new Map,ne=c()(s),xe;try{for(ne.s();!(xe=ne.n()).done;){var ge=xe.value,fe=ge[M],$e=ge[S],Re=ge[te];k.has(fe)||k.set(fe,new Map),k.get(fe).set($e,Re)}}catch(i){ne.e(i)}finally{ne.f()}console.log("tempMap",k);var le=[],me=[];me.push("time");var Q=c()($),re;try{for(Q.s();!(re=Q.n()).done;){var we=re.value;me.push(we)}}catch(i){Q.e(i)}finally{Q.f()}le.push(me);var oe=c()(n),Se;try{for(oe.s();!(Se=oe.n()).done;){var de=Se.value,ue=[];ue.push(de);var ve=c()($),ye;try{for(ve.s();!(ye=ve.n()).done;){var ce=ye.value;k.has(de)&&k.get(de).has(ce)?ue.push(k.get(de).get(ce)):ue.push("")}}catch(i){ve.e(i)}finally{ve.f()}le.push(ue)}}catch(i){oe.e(i)}finally{oe.f()}var O=u.P6.aoa_to_sheet(le),m=u.P6.book_new();u.P6.book_append_sheet(m,O,"Sheet1");var L="";Y=="daily"?L="(\u6BCF\u65E5)":Y=="monthly"&&(L="(\u6BCF\u6708)");var N="".concat(W()().format("YYYYMMDDHHmmss")).concat(f.replaceAll(" ","")).concat(L,".xlsx");u.NC(m,N)}function x(S){var M=parseFloat(S);return M.toLocaleString("en-US")}function ie(S,M){return S?S.length<=2*M?S:S.slice(0,M)+"***"+S.slice(-M):""}},20067:function(){}}]);
